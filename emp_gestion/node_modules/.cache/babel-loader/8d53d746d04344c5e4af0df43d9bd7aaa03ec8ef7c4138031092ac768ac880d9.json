{"ast":null,"code":"var _jsxFileName = \"D:\\\\ptojects_3i\\\\Gestion_des_employ\\xE9es_SANLAM\\\\employees_management_Sanlam-master\\\\emp_gestion\\\\src\\\\components\\\\tribes\\\\UpdateTribes.js\";\nimport React from \"react\";\nimport '../../page.css';\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass UpdateTribes extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      id_trb: '',\n      intitule_trb: '',\n      resp_trb: '',\n      data: []\n    };\n    this.changeHandler = this.changeHandler.bind(this);\n    this.submitted = this.submitted.bind(this);\n  }\n  changeHandler(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  fetchData() {\n    var id = this.props.match.params.id;\n    fetch('http://127.0.0.1:8000/tribes/' + id + '/').then(response => response.json()).then(data => {\n      this.setState({\n        id_trb: data.id_trb,\n        intitule_trb: data.intitule_trb,\n        resp_trb: data.resp_trb\n      });\n    });\n  }\n  componentDidMount() {\n    this.fetchData();\n  }\n  submitted() {\n    var id = this.props.match.params.id;\n    fetch('http://127.0.0.1:8000/tribes/' + id + '/', {\n      method: 'PUT',\n      body: JSON.stringify(this.state),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(response => response.json()).then(data => console.log(data));\n    // Redirection vers la page racine\n    this.props.history.push('/list_tribes');\n    // Rafraîchir la page après la redirection\n    window.location.reload();\n  }\n  render() {\n    const options = this.state.data.map(emp => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: emp.id,\n      children: emp.nomComplet\n    }, emp.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default UpdateTribes;","map":{"version":3,"names":["React","Header","Footer","jsxDEV","_jsxDEV","UpdateTribes","Component","constructor","state","id_trb","intitule_trb","resp_trb","data","changeHandler","bind","submitted","event","setState","target","name","value","fetchData","id","props","match","params","fetch","then","response","json","componentDidMount","method","body","JSON","stringify","headers","console","log","history","push","window","location","reload","render","options","map","emp","children","nomComplet","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["D:/ptojects_3i/Gestion_des_employées_SANLAM/employees_management_Sanlam-master/emp_gestion/src/components/tribes/UpdateTribes.js"],"sourcesContent":["import React from \"react\";\r\nimport '../../page.css'\r\nimport Header  from \"../../components/Header\";\r\nimport  Footer  from \"../../components/Footer\";\r\n\r\nclass UpdateTribes extends React.Component {\r\n    constructor() {\r\n      super();\r\n      this.state = {\r\n        id_trb: '',\r\n        intitule_trb: '',\r\n        resp_trb: '',\r\n        data: [],\r\n      };\r\n      this.changeHandler = this.changeHandler.bind(this);\r\n      this.submitted = this.submitted.bind(this);\r\n    }\r\n  \r\n    changeHandler(event) {\r\n      this.setState({\r\n        [event.target.name]: event.target.value,\r\n      });\r\n    }\r\n  \r\n    fetchData() {\r\n      var id = this.props.match.params.id;\r\n      fetch('http://127.0.0.1:8000/tribes/' + id + '/')\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          this.setState({\r\n            id_trb: data.id_trb,\r\n            intitule_trb: data.intitule_trb,\r\n            resp_trb: data.resp_trb,\r\n          });\r\n        });\r\n    }\r\n  \r\n    componentDidMount() {\r\n      this.fetchData();\r\n    }\r\n  \r\n    submitted() {\r\n      var id = this.props.match.params.id;\r\n      fetch('http://127.0.0.1:8000/tribes/' + id + '/', {\r\n        method: 'PUT',\r\n        body: JSON.stringify(this.state),\r\n        headers: { 'Content-type': 'application/json; charset=UTF-8' },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((data) => console.log(data));\r\n      // Redirection vers la page racine\r\n      this.props.history.push('/list_tribes');\r\n      // Rafraîchir la page après la redirection\r\n      window.location.reload();\r\n    }\r\n  \r\n    render() {\r\n      const options = this.state.data.map((emp) => (\r\n        <option key={emp.id} value={emp.id}>\r\n          {emp.nomComplet}\r\n        </option>\r\n      ));\r\n  \r\n      return (\r\n        <div>\r\n          {/* Rest of your component code */}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default UpdateTribes;\r\n  "],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,gBAAgB;AACvB,OAAOC,MAAM,MAAO,yBAAyB;AAC7C,OAAQC,MAAM,MAAO,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,YAAY,SAASL,KAAK,CAACM,SAAS,CAAC;EACvCC,WAAWA,CAAA,EAAG;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,KAAK,GAAG;MACXC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE;IACR,CAAC;IACD,IAAI,CAACC,aAAa,GAAG,IAAI,CAACA,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS,CAACD,IAAI,CAAC,IAAI,CAAC;EAC5C;EAEAD,aAAaA,CAACG,KAAK,EAAE;IACnB,IAAI,CAACC,QAAQ,CAAC;MACZ,CAACD,KAAK,CAACE,MAAM,CAACC,IAAI,GAAGH,KAAK,CAACE,MAAM,CAACE;IACpC,CAAC,CAAC;EACJ;EAEAC,SAASA,CAAA,EAAG;IACV,IAAIC,EAAE,GAAG,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,MAAM,CAACH,EAAE;IACnCI,KAAK,CAAC,+BAA+B,GAAGJ,EAAE,GAAG,GAAG,CAAC,CAC9CK,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEf,IAAI,IAAK;MACd,IAAI,CAACK,QAAQ,CAAC;QACZR,MAAM,EAAEG,IAAI,CAACH,MAAM;QACnBC,YAAY,EAAEE,IAAI,CAACF,YAAY;QAC/BC,QAAQ,EAAEC,IAAI,CAACD;MACjB,CAAC,CAAC;IACJ,CAAC,CAAC;EACN;EAEAmB,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACT,SAAS,CAAC,CAAC;EAClB;EAEAN,SAASA,CAAA,EAAG;IACV,IAAIO,EAAE,GAAG,IAAI,CAACC,KAAK,CAACC,KAAK,CAACC,MAAM,CAACH,EAAE;IACnCI,KAAK,CAAC,+BAA+B,GAAGJ,EAAE,GAAG,GAAG,EAAE;MAChDS,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC1B,KAAK,CAAC;MAChC2B,OAAO,EAAE;QAAE,cAAc,EAAE;MAAkC;IAC/D,CAAC,CAAC,CACCR,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEf,IAAI,IAAKwB,OAAO,CAACC,GAAG,CAACzB,IAAI,CAAC,CAAC;IACpC;IACA,IAAI,CAACW,KAAK,CAACe,OAAO,CAACC,IAAI,CAAC,cAAc,CAAC;IACvC;IACAC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC;EAC1B;EAEAC,MAAMA,CAAA,EAAG;IACP,MAAMC,OAAO,GAAG,IAAI,CAACpC,KAAK,CAACI,IAAI,CAACiC,GAAG,CAAEC,GAAG,iBACtC1C,OAAA;MAAqBgB,KAAK,EAAE0B,GAAG,CAACxB,EAAG;MAAAyB,QAAA,EAChCD,GAAG,CAACE;IAAU,GADJF,GAAG,CAACxB,EAAE;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEX,CACT,CAAC;IAEF,oBACEhD,OAAA;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEK,CAAC;EAEV;AACF;AAEA,eAAe/C,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}